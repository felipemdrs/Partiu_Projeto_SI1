
<h3><b>Criar viagem</b></h3>
<form role="form" method="post" action="/travels/create" id="form-new-travel" >
	<div class="form-group">
		<label>Nome</label>
		<input type="text" class="form-control" placeholder="Nome" name="name" required />
	</div>
	<div class="form-group">
		<label>Descri&ccedil;&atilde;o</label>
		<input type="text" class="form-control" placeholder="Descri&ccedil;&atilde;o" name="description" />
	</div>
	<div class="form-group">
		<label>Data de viagem</label>
		<input type="text" class="form-control datepicker" placeholder="Data de viagem" name="date" required style="padding-left: 10px;" />
		<script>
			$(function(){
				$("input[name='date']").datepicker({
					format: 'dd/mm/yyyy'
				});
			});
		</script>
	</div>
	<div class="form-group">
		<label>Local</label>
		<button id="choose-place" class="btn btn-default col-md-12" data-toggle="button">Escolher local da viagem</button>
		<div id="choose-place-content" class="thumbnail" data-visible="false">
			<div id="map-canvas"></div>
			<input type="text" class="form-control" placeholder="Descri&ccedil;&atilde;o do local" name="place-description" />
			<input type="text" name="coords-x" />
			<input type="text" name="coords-y" />
		</div>
	</div>
	<div class="form-group">
		<input type="checkbox" name="locked" /> Esta viagem &eacute; privada
	</div>
	<div id="lock-content">
		<div class="form-group">
			<input class="form-control" type="password" name="password" placeholder="Senha" />
		</div>
		<div class="form-group">
			<input class="form-control" type="password" name="repeat-password" placeholder="Repita a senha" />
		</div>
	</div>
	<div class="form-group">
		<center><button type="submit" class="btn btn-success">Criar viagem</button></center>
	</div>
</form>
<script type="text/javascript" src="@routes.Assets.at("javascripts/create-travel.js")"></script>
<script type="text/javascript">
	$(function(){
		$("#form2-new-travel").on("submit", function(e){
			e.preventDefault();
			if ($(this).valid()) {
				$.ajax({
					url: $(this).attr("action"),
					data: new FormData(this),
					type: 'POST',
					cache: false,
					mimeType: "multipart/form-data",
	
					success: function(result) {
						console.log("enviado!" + result);
						window.alert("enviado!" + result);
					},
					error: function(result) {
						console.log("erro!" + result);
						window.alert("erro!" + result);
					}
				});
			} else {
				alert("erro2!");
			}
		});
	});
</script>